(function(t){function e(e){for(var i,o,r=e[0],c=e[1],l=e[2],p=0,d=[];p<r.length;p++)o=r[p],s[o]&&d.push(s[o][0]),s[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(e);while(d.length)d.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],i=!0,r=1;r<a.length;r++){var c=a[r];0!==s[c]&&(i=!1)}i&&(n.splice(e--,1),t=o(o.s=a[0]))}return t}var i={},s={app:0},n=[];function o(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=i,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(a,i,function(e){return t[e]}.bind(null,i));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var i=a("1356"),s=a.n(i);s.a},"0b4b":function(t,e,a){},"0ff3":function(t,e,a){},1356:function(t,e,a){},2789:function(t,e,a){},"2a74":function(t,e,a){"use strict";a.r(e);a("a481"),a("ac6a");var i=a("d307"),s={};i.keys().forEach(function(t){"./index.js"!==t&&(s[t.replace(/(\.\/|\.js)/g,"")]=i(t).default)}),e["default"]=s},3251:function(t,e,a){"use strict";var i=a("aa7a"),s=a.n(i);s.a},"44c0":function(t,e,a){"use strict";var i=a("fa37"),s=a.n(i);s.a},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("097d"),a("bf40"),a("948e");var i=a("2b0e"),s=a("2f62"),n=a("ce5b"),o=a.n(n),r=a("4eb5"),c=a.n(r),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"app"}},[a("v-container",[a("div",{staticClass:"content"},[a("home")],1)])],1)},u=[],p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"nav"},[a("v-content",[a("div",{staticStyle:{padding:"16px"},attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"justify-center":"","align-center":""}},[t._t("default")],2)],1)])],1)},d=[],h="container",v={source:String},f={name:h,props:v,data:function(){return{drawer:null}}},m=f,g=(a("3251"),a("2877")),y=a("6544"),_=a.n(y),T=a("549c"),b=a("a722"),M=Object(g["a"])(m,p,d,!1,null,null,null);M.options.__file="Container.vue";var k=M.exports;_()(M,{VContent:T["a"],VLayout:b["a"]});var S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-alert",{staticClass:"token-alert",attrs:{color:"warning",icon:"warning",dismissible:""},model:{value:t.tokenAlert,callback:function(e){t.tokenAlert=e},expression:"tokenAlert"}},[t._v("\n    Access Token Expired, Please Log In Again.\n  ")]),t.userData?a("friends-top-music",{attrs:{type:t.type,timeRange:t.timeRange,limit:t.limit,username:t.userData.display_name}}):t._e(),t.spotifyToken&&t.userData?a("v-expansion-panel",[a("v-expansion-panel-content",{staticStyle:{overflow:"hidden"},attrs:{"expand-icon":"menu"},model:{value:t.toolbar,callback:function(e){t.toolbar=e},expression:"toolbar"}},[a("v-alert",{attrs:{color:"success",icon:"check_circle",dismissible:""},model:{value:t.successAlert,callback:function(e){t.successAlert=e},expression:"successAlert"}},[t._v("\n        Playlist Created\n      ")]),a("v-alert",{attrs:{color:"warning",icon:"warning",dismissible:""},model:{value:t.failureAlert,callback:function(e){t.failureAlert=e},expression:"failureAlert"}},[t._v("\n        Error in Creating Playlist: "+t._s(t.errors)+"\n      ")]),a("h3",{staticClass:"header",attrs:{slot:"header"},slot:"header"},[a("div",{staticStyle:{position:"absolute",top:"10px"}},[t._v("Statify")])]),a("v-flex",{staticClass:"welcome-user"},[t.userData.images[0]?a("img",{staticClass:"profile-pic",attrs:{src:t.userData.images[0].url}}):t._e(),a("h4",{staticClass:"username"},[t._v("Welcome, "+t._s(t.userData.display_name)+"\n          "),a("span",{staticClass:"separator"},[t._v(" | ")])]),a("v-btn",{staticClass:"logout-btn",attrs:{flat:""},on:{click:t.logout}},[t._v("Logout")])],1),a("v-layout",{staticClass:"toggles",attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{sm6:"",xs12:""}},[a("v-subheader",[t._v("Type")]),a("v-radio-group",{attrs:{mandatory:!1},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[a("v-radio",{attrs:{label:"Tracks",value:"tracks",color:"green"}}),a("v-radio",{attrs:{label:"Artists",value:"artists",color:"green"}})],1)],1),a("v-flex",{attrs:{sm6:"",xs12:""}},[a("v-subheader",[t._v("Time")]),a("v-radio-group",{attrs:{mandatory:!1},model:{value:t.timeRange,callback:function(e){t.timeRange=e},expression:"timeRange"}},[a("v-radio",{attrs:{label:"Last Month",value:"short_term",color:"green"}}),a("v-radio",{attrs:{label:"Last 6 Months",value:"medium_term",color:"green"}}),a("v-radio",{attrs:{label:"Last Several Years",value:"long_term",color:"green"}})],1)],1),a("v-flex",{attrs:{xs12:""}},[a("v-subheader",[t._v("# of Tracks")]),a("v-flex",{attrs:{xs8:""}},[a("v-slider",{attrs:{color:"green",min:3,max:50},model:{value:t.limit,callback:function(e){t.limit=e},expression:"limit"}})],1),a("v-flex",{staticStyle:{"margin-right":"30px"},attrs:{xs1:""}},[a("v-text-field",{attrs:{type:"number"},model:{value:t.limit,callback:function(e){t.limit=e},expression:"limit"}})],1)],1),t.data.length>0?a("v-container",{attrs:{fluid:"","grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:"","justify-space-between":""}},[t.data[0].album?a("v-flex",{attrs:{"d-flex":"",xs12:"",sm6:"",md4:"",lg3:"",xl4:""}},[a("v-btn",{on:{click:t.getData}},[t._v("Load")]),t.data[0].album?a("v-btn",{on:{click:t.createPlaylist}},[t._v("Create Playlist")]):t._e()],1):a("v-flex",{attrs:{"d-flex":"",xs1:""}},[a("v-btn",{on:{click:t.getData}},[t._v("Load")])],1),t.data[0].album?a("v-flex",{attrs:{"d-flex":"",xs12:"",sm6:"",md4:""}},[a("v-btn",{staticClass:"fr",attrs:{slot:"activator"},on:{click:function(e){e.preventDefault(),t.showMusicShare=!t.showMusicShare}},slot:"activator"},[a("span",{staticClass:"mr-auto"},[t._v("Share Your Top "+t._s(t.type))]),t.showMusicShare?a("v-icon",[t._v("keyboard_arrow_up")]):a("v-icon",[t._v("keyboard_arrow_down")])],1)],1):a("v-flex",{attrs:{"d-flex":"",xs12:"",sm6:"",md4:"",lg3:""}},[a("v-btn",{staticClass:"fr",attrs:{slot:"activator"},on:{click:function(e){e.preventDefault(),t.showMusicShare=!t.showMusicShare}},slot:"activator"},[a("span",{staticClass:"mr-auto"},[t._v("Share Your Top "+t._s(t.type))]),t.showMusicShare?a("v-icon",[t._v("keyboard_arrow_up")]):a("v-icon",[t._v("keyboard_arrow_down")])],1)],1),a("top-music-share",{directives:[{name:"show",rawName:"v-show",value:t.showMusicShare,expression:"showMusicShare"}],attrs:{type:t.type,timeRange:t.timeRange,limit:t.limit,username:t.userData.display_name,showMusicShare:t.showMusicShare},on:{close:function(e){t.showMusicShare=!1}}})],1)],1):t._e()],1)],1)],1):t._e(),t.spotifyToken?a("albums",{attrs:{data:t.data,timeRange:t.timeRange,limit:t.limit,type:t.type},on:{apiError:function(e){t.logout(t.err)}}}):a("login")],1)},w=[],x=a("795b"),A=a.n(x),C=(a("5df3"),a("ac6a"),a("cebc")),L=a("bc3a"),I=a.n(L),P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login"},[a("div",{staticClass:"title-wrapper"},[t._m(0),a("v-btn",{staticClass:"login-btn",attrs:{flat:""},on:{click:function(e){t.login()}}},[t._v("Login")])],1),a("AudioAnimation",{staticStyle:{"margin-bottom":"-16px"}})],1)},O=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h2",{staticClass:"title"},[t._v("Statify "),a("span",{staticClass:"separator"},[t._v("|")])])}],D=(a("a481"),null),V=null;D="https://my-statify-backend.herokuapp.com/",V="".concat(window.location.protocol,"//").concat(window.location.hostname);var E=function(){return I.a.create({baseURL:D})},U={login:function(){return E().get("login")},getShortUrl:function(t){return E().get("short_url",{params:{url:t}})}},j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"audio-wrapper"},[t._l(t.numOfBars,function(e){return[a("div",{key:e,staticClass:"bar",style:t.randomClass(e)})]})],2)},$=[],q="AudioAnimation",R={randomClass:function(t){var e=.02*document.body.clientWidth,a=.005*document.body.clientWidth,i=(e+a)*(t-1),s=700,n=900,o=Math.floor(Math.random()*(s-n+1)+s);return"left:"+i+"px; animation-duration:"+o+"ms;"}},B={numOfBars:function(){var t=.025*this.windowWidth+3.2,e=this.windowWidth/t;return Math.floor(e)}},z={name:q,methods:R,computed:B,data:function(){return{windowWidth:void 0}},beforeMount:function(){this.windowWidth=document.body.clientWidth},mounted:function(){var t=this;window.addEventListener("resize",function(){t.windowWidth=document.body.clientWidth})},beforeDestroy:function(){var t=this;window.removeEventListener("resize",function(){t.windowWidth=document.body.clientWidth})}},N=z,W=(a("d65c"),Object(g["a"])(N,j,$,!1,null,null,null));W.options.__file="AudioAnimation.vue";var Y=W.exports,F="login",G={AudioAnimation:Y},H=Object(C["a"])({},Object(s["b"])(["savetopMusicData","savetopMusicUsername","savetopMusicType","savetopMusicLimit","savetopMusicDialogState"]),{login:function(){U.login().then(function(t){window.location.replace(t.data)})},clearTopMusic:function(){this.savetopMusicData(null),this.savetopMusicUsername(null),this.savetopMusicType(null),this.savetopMusicLimit(null),this.savetopMusicDialogState(null)}}),J={name:F,methods:H,components:G,beforeMount:function(){this.clearTopMusic(),this.$route.query.showTopMusicPreview&&(this.savetopMusicData(decodeURIComponent(this.$route.query.data)),this.savetopMusicUsername(decodeURIComponent(this.$route.query.username)),this.savetopMusicType(decodeURIComponent(this.$route.query.type)),this.savetopMusicLimit(decodeURIComponent(this.$route.query.limit).replace(/\/$/,"")),this.savetopMusicDialogState(decodeURIComponent(this.$route.query.showTopMusicPreview)),window.history.replaceState(null,null,window.location.pathname))}},K=J,Q=(a("44c0"),a("8336")),X=Object(g["a"])(K,P,O,!1,null,null,null);X.options.__file="Login.vue";var Z=X.exports;_()(X,{VBtn:Q["a"]});var tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[t.topMusicUsername?a("v-dialog",{attrs:{fullscreen:""},model:{value:t.showTopMusicPreview,callback:function(e){t.showTopMusicPreview=e},expression:"showTopMusicPreview"}},[a("div",{staticClass:"grey lighten-5",staticStyle:{margin:"auto"},attrs:{id:"topMusic"}},[a("v-toolbar",{attrs:{color:"white",height:"80px"}},[a("v-toolbar-title",{staticStyle:{color:"black","margin-top":"5px"}},[a("div",{staticClass:"top-music-title"},[t._v("\n            "+t._s(t.displayName)+"'s Top "+t._s(t._f("removeSlash")(t.topMusicLimit))+"\n            "+t._s(t._f("capitalize")(t.topMusicType))+" ("+t._s(t.timePeriod[t.timeRange])+")\n          ")]),a("v-btn",{staticClass:"top-music-btn",staticStyle:{color:"#1db954"},attrs:{flat:""},nativeOn:{click:function(e){return t.hideTopMusic(e)}}},[t._v("Discover Your Top Songs and Arists\n          ")])],1)],1),a("v-container",{staticStyle:{"min-height":"0"},attrs:{fluid:"","grid-list-lg":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-card",[a("albums",{staticStyle:{"margin-top":"0"},attrs:{data:t.topMusic,timeRange:t.timeRange,limit:t.limit,type:t.topMusicType}})],1)],1)],1)],1)]):t._e()],1)},et=[],at=(a("6b54"),a("c5f6"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.data.length>0?a("div",{staticClass:"albums",attrs:{loading:t.loading}},[t.loading?t._e():a("v-container",{staticClass:"grey lighten-5",attrs:{fluid:"","grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},t._l(t.data,function(e,i){return a("v-flex",{key:e.name,staticClass:"card-wrapper",attrs:{xs12:"",sm6:"",md4:"",lg3:""}},[a("v-card",{staticStyle:{width:"100%"},attrs:{hover:""}},[e.id===t.addSong?a("v-alert",{staticClass:"song-alert",attrs:{dismissible:"",color:t.alert.alertType,icon:t.alert.alertIcon},model:{value:t.alert.active,callback:function(e){t.$set(t.alert,"active",e)},expression:"alert.active"}},[t._v("\n            "+t._s(t.alert.alertMessage)+"\n          ")]):t._e(),(e.images?e.images:e.album&&e.album.images)?a("v-card-media",{style:t.getBackgroundImg(e),attrs:{height:"50vh"}},[a("div",{staticStyle:{padding:"10px 16px"},attrs:{"fill-height":"",fluid:""}},[a("v-layout",{attrs:{"fill-height":""}},[a("v-flex",{staticStyle:{"flex-direction":"column"},attrs:{xs12:"",flexbox:""}},[a("span",t._l(t.topTracks,function(i){return t.topTracks[0].artists.some(function(t){return t.id===e.id})?a("h4",{key:i.id,staticClass:"top-tracks",staticStyle:{opacity:"0.5","font-size":"20px"}},[t._v(t._s(i.name)+"\n                    ")]):t._e()}),0),e.images?a("span",{staticStyle:{"z-index":"3","margin-top":"auto"}},[a("h4",[t._v(t._s(e.name))])]):a("span",{staticStyle:{"z-index":"3","margin-top":"auto"}},[a("h5",[t._v(t._s(e.name))]),e.artists?a("h5",[t._v(t._s(e.artists[0].name))]):t._e(),a("h5",[t._v(t._s(e.album.name))])]),a("div",{staticClass:"animation-wrapper"},[t.audioPlaying&&e.id===t.song?a("AudioAnimation"):t._e()],1)])],1)],1)]):t._e(),a("v-card-actions",{staticClass:"white"},[a("div",{staticClass:"rank"},[t._v(t._s(i+1))]),a("v-spacer"),e.images?a("v-btn",{attrs:{icon:"",disabled:0===t.topTracks.length||!t.topTracks[0].artists.some(function(t){return t.id===e.id})},on:{click:function(a){t.getTopTrackIndex("prev",e.id)}}},[a("v-icon",[t._v("skip_previous")])],1):t._e(),e.album?a("v-btn",{attrs:{icon:""},on:{click:function(a){t.playPreview(e.preview_url,e.id)}}},[a("v-icon",[t._v("play_arrow")])],1):a("v-btn",{attrs:{icon:"",disabled:0===t.topTracks.length||!t.topTracks[0].artists.some(function(t){return t.id===e.id})},on:{click:function(a){t.getTopTrackIndex(null,e.id)}}},[a("v-icon",[t._v("play_arrow")])],1),e.images?a("v-btn",{attrs:{icon:"",disabled:0===t.topTracks.length||!t.topTracks[0].artists.some(function(t){return t.id===e.id})},on:{click:function(a){t.getTopTrackIndex("next",e.id)}}},[a("v-icon",[t._v("skip_next")])],1):t._e(),e.album?a("v-tooltip",{attrs:{bottom:"","open-delay":"500"}},[a("v-btn",{attrs:{slot:"activator",icon:""},on:{click:function(a){t.saveTrack(e.id)}},slot:"activator"},[a("v-icon",[t._v("add")])],1),a("span",[t._v("Add Song to Library")])],1):t._e(),e.images?a("v-tooltip",{staticClass:"GetArtistsTop",attrs:{bottom:"","open-delay":"500"}},[a("v-btn",{attrs:{slot:"activator",icon:""},on:{click:function(a){t.getArtistsTopTracks(e.id)}},slot:"activator"},[a("v-icon",[t._v("format_list_numbered")])],1),a("span",[t._v("Get Artist's Top Tracks")])],1):t._e()],1)],1)],1)}),1)],1),a("audio",{ref:"audio",on:{timeupdate:t.audioUpdate}})],1):t._e()}),it=[],st="Albums",nt={data:{type:Array,required:!0},type:{type:String,required:!0}},ot={AudioAnimation:Y},rt={playPreview:function(t,e){var a=document.querySelector("audio");""===a.src?(a.src=t,a.play()):t!==a.src?(a.pause(),a.currentTime=0,a.src=t,a.play()):t===a.src?(a.pause(),a.currentTime=0,a.src=""):(a.pause(),a.currentTime=0),this.song=e},audioUpdate:function(){var t=this.$refs.audio;t.currentTime>0&&!t.paused&&!t.ended?this.audioPlaying=!0:this.audioPlaying=!1},saveTrack:function(t){var e=this;this.addSong=t,I.a.get("https://api.spotify.com/v1/me/tracks/contains?ids="+t,{headers:{Authorization:"Bearer "+this.spotifyToken}}).then(function(a){if(a.data[0])e.alert.alertType="info",e.alert.alertIcon="info",e.alert.alertMessage="Song already in library",e.alert.active=!0;else{var i={ids:[t]};I.a.put("https://api.spotify.com/v1/me/tracks/?ids=",i,{headers:{Authorization:"Bearer "+e.spotifyToken}}).then(function(t){e.alert.alertType="success",e.alert.alertIcon="check_circle",e.alert.alertMessage="Song added",e.alert.active=!0}).catch(function(t){e.$emit("apiError",t)})}})},getArtistsTopTracks:function(t){var e=this;document.querySelector("audio").pause(),this.topTrackIndex=0,I.a.get("https://api.spotify.com/v1/artists/".concat(t,"/top-tracks?country=US"),{headers:{Authorization:"Bearer "+this.spotifyToken}}).then(function(t){t.data.tracks.length>=5?e.topTracks=t.data.tracks.slice(0,5):e.topTracks=t.data.tracks.slice(0,t.data.tracks.length-1)}).catch(function(t){e.$emit("apiError",t)})},getTopTrackIndex:function(t,e){"next"===t&&(this.topTrackIndex<this.topTracks.length-1?this.topTrackIndex=this.topTrackIndex+1:this.topTrackIndex=0),"prev"===t&&(this.topTrackIndex>0?this.topTrackIndex=this.topTrackIndex-1:this.topTrackIndex=4),this.updateCurrentTrackStyle(),this.playPreview(this.topTracks[this.topTrackIndex].preview_url,e)},updateCurrentTrackStyle:function(){document.querySelectorAll(".top-tracks").forEach(function(t){return t.style.opacity=.5}),document.querySelectorAll(".top-tracks")[this.topTrackIndex].style.opacity=1},getBackgroundImg:function(t){return!t.images||0!==this.topTracks.length&&this.topTracks[0].artists.some(function(e){return e.id===t.id})?t.images&&this.topTracks[0].artists.some(function(e){return e.id===t.id})?"background: linear-gradient(rgba(0,0,0,.7),rgba(0,0,0,.2)), url('".concat(t.images[0].url,"') center center / cover no-repeat;"):"background: linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.7)), url('".concat(t.album.images[0].url,"') center center / cover no-repeat;"):"background: linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.7)), url('".concat(t.images[0].url,"') center center / cover no-repeat;")}},ct=Object(C["a"])({},Object(s["c"])(["spotifyToken","tipsSetting"])),lt={name:st,props:nt,components:ot,methods:rt,computed:ct,data:function(){return{song:null,addSong:null,audioPlaying:!1,loading:!1,alert:{active:!1,alertType:null,alertIcon:null,alertMessage:null},topTracks:[],topTrackIndex:0}}},ut=lt,pt=(a("c0c1"),a("0798")),dt=a("b0af"),ht=a("99d9"),vt=a("b901"),ft=a("a523"),mt=a("0e8f"),gt=a("132d"),yt=a("9910"),_t=a("3a2f"),Tt=Object(g["a"])(ut,at,it,!1,null,null,null);Tt.options.__file="Albums.vue";var bt=Tt.exports;_()(Tt,{VAlert:pt["a"],VBtn:Q["a"],VCard:dt["a"],VCardActions:ht["a"],VCardMedia:vt["a"],VContainer:ft["a"],VFlex:mt["a"],VIcon:gt["a"],VLayout:b["a"],VSpacer:yt["a"],VTooltip:_t["a"]});var Mt="TopMusicButton",kt={username:{type:String,required:!0},type:{type:String,required:!0},timeRange:{type:String,required:!0},limit:{type:Number,required:!0}},St={Albums:bt},wt=Object(C["a"])({},Object(s["b"])(["savetopMusicData","savetopMusicUsername","savetopMusicType","savetopMusicLimit","savetopMusicDialogState","saveSpotifyToken"]),{getTopMusicData:function(){var t=this,e=null;e=this.topMusicType?this.topMusicType:this.type,I.a.get("https://api.spotify.com/v1/".concat(e,"/?ids=")+this.topMusicIds,{headers:{Authorization:"Bearer "+this.spotifyToken}}).then(function(a){t.topMusic=a.data[e],t.getShareLink()}).catch(function(e){console.log(e),t.saveSpotifyToken(null),t.$forceUpdate()})},clearTopMusic:function(){this.savetopMusicData(null),this.savetopMusicUsername(null),this.savetopMusicType(null),this.savetopMusicLimit(null),this.savetopMusicDialogState(null),this.topMusicIds=[]},hideTopMusic:function(){this.showTopMusicPreview=!1,this.clearTopMusic()},getShareLink:function(){var t=this,e="data="+this.topMusicIds,a="username="+this.username,i="type="+this.type,s="limit="+this.limit,n="showTopMusicPreview=true",o=V+"?"+n+"&"+e+"&"+a+"&"+i+"&"+s;U.getShortUrl(o).then(function(e){0===e.data.data.length?(t.shareLink=o,t.warningAlert=!0,t.statusTxt=e.data.status_txt):t.shareLink=e.data.data.url}).catch(function(e){t.warningAlert=!0,t.statusTxt=e})}}),xt=Object(C["a"])({},Object(s["c"])(["topMusicData","topMusicUsername","topMusicType","topMusicLimit","topMusicDialogState","spotifyToken"])),At={capitalize:function(t){return t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""},removeSlash:function(t){return"/"===t.slice(-1)?t.slice(0,-1):t}},Ct={name:Mt,props:kt,components:St,methods:wt,computed:xt,filters:At,data:function(){return{showTopMusicPreview:!1,topMusicIds:[],topMusic:[],timePeriod:{short_term:"Last Month",medium_term:"Last 6 Months",long_term:"Last Several Years"}}},beforeMount:function(){this.displayName=this.topMusicUsername||this.username,"true"===this.topMusicDialogState?(this.showTopMusicPreview=!0,this.topMusicIds=this.topMusicData,this.getTopMusicData()):this.showTopMusicPreview=!1},watch:{showTopMusicPreview:function(){!1===this.showTopMusicPreview?(this.shareLink=null,document.body.style.overflow="auto"):document.body.style.overflow="hidden"}}},Lt=Ct,It=(a("e9fe"),a("169a")),Pt=a("71d9"),Ot=a("2a7f"),Dt=Object(g["a"])(Lt,tt,et,!1,null,null,null);Dt.options.__file="FriendsTopMusic.vue";var Vt=Dt.exports;_()(Dt,{VBtn:Q["a"],VCard:dt["a"],VContainer:ft["a"],VDialog:It["a"],VLayout:b["a"],VToolbar:Pt["a"],VToolbarTitle:Ot["a"]});var Et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-flex",{staticClass:"justify-center",attrs:{xs12:""}},[a("v-card",[a("v-alert",{attrs:{dismissible:"",color:"success",icon:"check_circle"},model:{value:t.successAlert,callback:function(e){t.successAlert=e},expression:"successAlert"}},[t._v("\n      Link Copied to Clipboard\n    ")]),a("v-alert",{attrs:{color:"info",icon:"warning",dismissible:""},model:{value:t.warningAlert,callback:function(e){t.warningAlert=e},expression:"warningAlert"}},[t._v("\n      "+t._s(this.statusTxt)+": Could Not Generate A Shortened Url, Please Use the Long Url\n    ")]),a("v-flex",{attrs:{xs12:""}},[a("v-flex",{attrs:{xs8:""}},[a("v-text-field",{staticStyle:{margin:"10px 15px 0 15px"},attrs:{id:"share-link",name:"share-link",color:"green",label:"Generating Link",loading:t.loading,readonly:""},model:{value:t.shareLink,callback:function(e){t.shareLink=e},expression:"shareLink"}})],1),a("v-flex",{staticClass:"justify-center",attrs:{xs2:""}},[a("v-btn",{staticStyle:{color:"#1db954","margin-top":"20px"},attrs:{slot:"activator",flat:"",icon:"",disabled:!t.shareLink},on:{click:t.copyLink},slot:"activator"},[a("v-icon",[t._v("content_copy")])],1)],1),a("v-flex",{staticClass:"justify-center",attrs:{xs2:""}},[a("v-btn",{staticStyle:{color:"#1db954","margin-top":"20px"},attrs:{slot:"activator",flat:"",icon:"",disabled:!!t.shareLink},on:{click:t.getTopMusicIds},slot:"activator"},[a("v-icon",[t._v("cached")])],1)],1)],1),a("v-flex",{attrs:{xs12:""}},[t.shareLink?a("p",{staticStyle:{"text-align":"center",margin:"0 10px 10px 10px"}},[t._v("\n        Copy this link to share your top "+t._s(t.limit)+" "+t._s(t.type)+" of the\n        "+t._s(t.timePeriod[t.timeRange])+" with your friends\n      ")]):a("p",{staticStyle:{"text-align":"center",margin:"0 10px 10px 10px"}},[t._v("\n        Click the green refresh button to generate a new link\n      ")])])],1)],1)},Ut=[],jt="TopMusicShare",$t={username:{type:String,required:!0},type:{type:String,required:!0},timeRange:{type:String,required:!0},limit:{type:Number,required:!0},showMusicShare:{type:Boolean,required:!1}},qt=Object(C["a"])({},Object(s["c"])(["spotifyToken"])),Rt=Object(C["a"])({},Object(s["b"])(["saveSpotifyToken"]),{getTopMusicIds:function(){var t=this;this.loading=!0,this.shareLink=null;var e="?time_range="+this.timeRange+"&limit="+this.limit;I.a.get("https://api.spotify.com/v1/me/top/"+this.type+e,{headers:{Authorization:"Bearer "+this.spotifyToken}}).then(function(e){var a=[];e.data.items.forEach(function(t){a.push(t.id)}),t.topMusicIds=a.toString(),t.getTopMusicData()}).catch(function(e){console.log(e),t.saveSpotifyToken(null),t.$forceUpdate()})},getTopMusicData:function(){var t=this,e=null;e=this.topMusicType?this.topMusicType:this.type,I.a.get("https://api.spotify.com/v1/".concat(e,"/?ids=")+this.topMusicIds,{headers:{Authorization:"Bearer "+this.spotifyToken}}).then(function(a){t.topMusic=a.data[e],t.getShareLink()}).catch(function(e){console.log(e),t.saveSpotifyToken(null),t.$forceUpdate()})},getShareLink:function(){var t=this,e="data="+this.topMusicIds,a="username="+this.username,i="type="+this.type,s="limit="+this.limit,n="showTopMusicPreview=true",o=V+"?"+n+"&"+e+"&"+a+"&"+i+"&"+s;U.getShortUrl(o).then(function(e){0===e.data.data.length?(t.shareLink=o,t.loading=!1,t.warningAlert=!0,t.statusTxt=e.data.status_txt):t.shareLink=e.data.data.url}).catch(function(e){t.loading=!1,t.warningAlert=!0,t.statusTxt=e})},copyLink:function(){var t=this;this.$copyText(this.shareLink).then(function(e){t.successAlert=!0,t.$emit("close",!1)})}}),Bt={name:jt,props:$t,computed:qt,methods:Rt,data:function(){return{loading:!1,shareLink:null,successAlert:!1,warningAlert:!1,statusTxt:null,timePeriod:{short_term:"Last Month",medium_term:"Last 6 Months",long_term:"Last Several Years"}}},watch:{showMusicShare:function(){!1===this.showMusicShare?(this.successAlert=!1,this.warningAlert=!1):this.getTopMusicIds()}}},zt=Bt,Nt=a("2677"),Wt=Object(g["a"])(zt,Et,Ut,!1,null,null,null);Wt.options.__file="TopMusicShare.vue";var Yt=Wt.exports;_()(Wt,{VAlert:pt["a"],VBtn:Q["a"],VCard:dt["a"],VFlex:mt["a"],VIcon:gt["a"],VTextField:Nt["a"]});var Ft="home",Gt={login:Z,FriendsTopMusic:Vt,TopMusicShare:Yt,Albums:bt},Ht=Object(C["a"])({},Object(s["b"])(["savetopMusicData","savetopMusicUsername","savetopMusicType","savetopMusicLimit","savetopMusicDialogState","saveSpotifyToken"]),{logout:function(t){console.log(t),this.saveSpotifyToken(null),this.tokenAlert=!0,this.$forceUpdate()},getData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.songs=[];var a="?time_range="+this.timeRange+"&limit="+this.limit;I.a.get("https://api.spotify.com/v1/me/top/"+this.type+a,{headers:{Authorization:"Bearer "+this.spotifyToken}}).then(function(a){t.data=a.data.items,a.data.items.forEach(function(e){t.songs.push(e.uri)}),t.toolbar=!0===e}).catch(function(e){t.logout()})},createPlaylist:function(){var t=this,e=this.userData.id,a=this.songs,i={name:"Your Top "+this.limit+" "+this.type.charAt(0).toUpperCase()+this.type.slice(1)+" ("+this.timePeriod[this.timeRange]+")",public:!0},s={headers:{Authorization:"Bearer "+this.spotifyToken}};I.a.post("https://api.spotify.com/v1/users/"+e+"/playlists",i,s).then(function(i){var n=i.data.id;I.a.post("https://api.spotify.com/v1/users/"+e+"/playlists/"+n+"/tracks",{uris:a},s).then(function(e){t.successAlert=!0}).catch(function(e){t.failureAlert=!0,t.errors=e})})}}),Jt=Object(C["a"])({},Object(s["c"])(["spotifyToken"])),Kt={name:Ft,components:Gt,methods:Ht,computed:Jt,data:function(){return{toolbar:!0,topArtists:[],type:"tracks",timeRange:"short_term",timePeriod:{short_term:"Last Month",medium_term:"Last 6 Months",long_term:"Last Several Years"},limit:20,data:[],songs:[],userData:void 0,errors:"",successAlert:!1,failureAlert:!1,tokenAlert:!1,showMusicShare:!1}},beforeMount:function(){var t=this;if(this.$route.query.access_token&&this.saveSpotifyToken(this.$route.query.access_token).then(function(){window.history.replaceState(null,null,window.location.pathname)}),this.$route.query.showTopMusicPreview&&(this.savetopMusicData(this.$route.query.data),this.savetopMusicUsername(this.$route.query.username),this.savetopMusicType(this.$route.query.type),this.savetopMusicLimit(this.$route.query.limit),this.savetopMusicDialogState(this.$route.query.showTopMusicPreview),window.history.replaceState(null,null,window.location.pathname)),this.spotifyToken){var e=I.a.get("https://api.spotify.com/v1/me",{headers:{Authorization:"Bearer "+this.spotifyToken}}).then(function(e){t.userData=e.data}).catch(function(e){t.logout(),t.tokenAlert=!0}),a=this.getData(!0);A.a.all([e,a])}}},Qt=Kt,Xt=(a("9c8c"),a("cd55")),Zt=a("49e2"),te=a("67b6"),ee=a("43a6"),ae=a("ba0d"),ie=a("e0c7"),se=Object(g["a"])(Qt,S,w,!1,null,null,null);se.options.__file="Home.vue";var ne=se.exports;_()(se,{VAlert:pt["a"],VBtn:Q["a"],VContainer:ft["a"],VExpansionPanel:Xt["a"],VExpansionPanelContent:Zt["a"],VFlex:mt["a"],VIcon:gt["a"],VLayout:b["a"],VRadio:te["a"],VRadioGroup:ee["a"],VSlider:ae["a"],VSubheader:ie["a"],VTextField:Nt["a"]});var oe={"v-container":k,Home:ne},re={components:oe},ce=re,le=(a("034f"),a("7496")),ue=Object(g["a"])(ce,l,u,!1,null,null,null);ue.options.__file="App.vue";var pe=ue.exports;_()(ue,{VApp:le["a"],VContainer:ft["a"]});var de=a("75fc"),he=a("8c4f"),ve=[{path:"/",component:ne}],fe=ve;i["default"].use(he["a"]);var me=new he["a"]({mode:"history",routes:Object(de["a"])(fe)}),ge=a("0e44"),ye=a("2a74");i["default"].use(s["a"]);var _e=new s["a"].Store({modules:ye["default"],strict:!1,plugins:[Object(ge["a"])()]});i["default"].use(s["a"]),i["default"].use(o.a),i["default"].use(c.a),new i["default"]({el:"#app",render:function(t){return t(pe)},router:me,store:_e})},"5b00":function(t,e,a){"use strict";a.r(e);var i={spotifyToken:null},s={SAVE_SPOTIFY_TOKEN:function(t,e){t.spotifyToken=e}},n={saveSpotifyToken:function(t,e){var a=t.commit;a("SAVE_SPOTIFY_TOKEN",e)}},o={spotifyToken:function(t){return t.spotifyToken}};e["default"]={state:i,mutations:s,actions:n,getters:o}},8931:function(t,e,a){},"9c8c":function(t,e,a){"use strict";var i=a("2789"),s=a.n(i);s.a},aa7a:function(t,e,a){},ae75:function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("097d");var i={topMusicData:null,topMusicUsername:null,topMusicType:null,topMusicLimit:null,topMusicDialogState:null},s={SAVE_TOP_MUSIC_DATA:function(t,e){t.topMusicData=e},SAVE_TOP_MUSIC_USERNAME:function(t,e){t.topMusicUsername=e},SAVE_TOP_MUSIC_TYPE:function(t,e){t.topMusicType=e},SAVE_TOP_MUSIC_LIMIT:function(t,e){t.topMusicLimit=e},SAVE_TOP_MUSIC_DIALOG_STATE:function(t,e){t.topMusicDialogState=e}},n={savetopMusicData:function(t,e){var a=t.commit;a("SAVE_TOP_MUSIC_DATA",e)},savetopMusicUsername:function(t,e){var a=t.commit;a("SAVE_TOP_MUSIC_USERNAME",e)},savetopMusicType:function(t,e){var a=t.commit;a("SAVE_TOP_MUSIC_TYPE",e)},savetopMusicLimit:function(t,e){var a=t.commit;a("SAVE_TOP_MUSIC_LIMIT",e)},savetopMusicDialogState:function(t,e){var a=t.commit;a("SAVE_TOP_MUSIC_DIALOG_STATE",e)}},o={topMusicData:function(t){return t.topMusicData},topMusicUsername:function(t){return t.topMusicUsername},topMusicType:function(t){return t.topMusicType},topMusicLimit:function(t){return t.topMusicLimit},topMusicDialogState:function(t){return t.topMusicDialogState}};e["default"]={state:i,mutations:s,actions:n,getters:o}},c0c1:function(t,e,a){"use strict";var i=a("0b4b"),s=a.n(i);s.a},c44b:function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("097d");var i={tipsSetting:!0},s={SAVE_TIPS_SETTING:function(t,e){t.tipsSetting=e}},n={saveTipsSetting:function(t,e){var a=t.commit;a("SAVE_TIPS_SETTING",e)}},o={tipsSetting:function(t){return t.tipsSetting}};e["default"]={state:i,mutations:s,actions:n,getters:o}},d307:function(t,e,a){var i={"./index.js":"2a74","./spotify.js":"5b00","./top20.js":"ae75","./ux.js":"c44b"};function s(t){var e=n(t);return a(e)}function n(t){var e=i[t];if(!(e+1)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return e}s.keys=function(){return Object.keys(i)},s.resolve=n,t.exports=s,s.id="d307"},d65c:function(t,e,a){"use strict";var i=a("8931"),s=a.n(i);s.a},e9fe:function(t,e,a){"use strict";var i=a("0ff3"),s=a.n(i);s.a},fa37:function(t,e,a){}});
//# sourceMappingURL=app.af35c2c0.js.map