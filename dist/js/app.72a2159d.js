(function(t){function e(e){for(var a,o,r=e[0],c=e[1],l=e[2],p=0,d=[];p<r.length;p++)o=r[p],s[o]&&d.push(s[o][0]),s[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(d.length)d.shift()();return n.push.apply(n,l||[]),i()}function i(){for(var t,e=0;e<n.length;e++){for(var i=n[e],a=!0,r=1;r<i.length;r++){var c=i[r];0!==s[c]&&(a=!1)}a&&(n.splice(e--,1),t=o(o.s=i[0]))}return t}var a={},s={app:0},n=[];function o(e){if(a[e])return a[e].exports;var i=a[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=a,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(i,a,function(e){return t[e]}.bind(null,a));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;n.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";var a=i("64a9"),s=i.n(a);s.a},"06e4":function(t,e,i){},"1c5f":function(t,e,i){},"2a74":function(t,e,i){"use strict";i.r(e);i("a481"),i("ac6a"),i("cadf"),i("551c"),i("097d");var a=i("d307"),s={};a.keys().forEach(function(t){"./index.js"!==t&&(s[t.replace(/(\.\/|\.js)/g,"")]=a(t).default)}),e["default"]=s},"2bab":function(t,e,i){},"2c1f":function(t,e,i){},3251:function(t,e,i){"use strict";var a=i("06e4"),s=i.n(a);s.a},"44c0":function(t,e,i){"use strict";var a=i("2bab"),s=i.n(a);s.a},"56d7":function(t,e,i){"use strict";i.r(e);i("cadf"),i("551c"),i("097d"),i("bf40"),i("948e");var a=i("2b0e"),s=i("2f62"),n=i("ce5b"),o=i.n(n),r=i("4eb5"),c=i.n(r),l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-app",{attrs:{id:"app"}},[i("v-container",[i("div",{staticClass:"content"},[i("home")],1)])],1)},u=[],p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"nav"},[i("v-content",[i("div",{staticStyle:{padding:"16px"},attrs:{fluid:"","fill-height":""}},[i("v-layout",{attrs:{"justify-center":"","align-center":""}},[t._t("default")],2)],1)])],1)},d=[],h="container",v={source:String},f={name:h,props:v,data:function(){return{drawer:null}}},m=f,g=(i("3251"),i("2877")),y=Object(g["a"])(m,p,d,!1,null,null,null);y.options.__file="Container.vue";var _=y.exports,b=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-alert",{staticClass:"token-alert",attrs:{color:"warning",icon:"warning",dismissible:""},model:{value:t.tokenAlert,callback:function(e){t.tokenAlert=e},expression:"tokenAlert"}},[t._v("\n    Access Token Expired, Please Log In Again.\n  ")]),t.userData?i("friends-top-music",{attrs:{type:t.type,timeRange:t.timeRange,limit:t.limit,username:t.userData.display_name}}):t._e(),t.spotifyToken&&t.userData?i("v-expansion-panel",[i("v-expansion-panel-content",{staticStyle:{overflow:"hidden"},attrs:{"expand-icon":"menu"},model:{value:t.toolbar,callback:function(e){t.toolbar=e},expression:"toolbar"}},[i("v-alert",{attrs:{color:"success",icon:"check_circle",dismissible:""},model:{value:t.successAlert,callback:function(e){t.successAlert=e},expression:"successAlert"}},[t._v("\n        Playlist Created\n      ")]),i("v-alert",{attrs:{color:"warning",icon:"warning",dismissible:""},model:{value:t.failureAlert,callback:function(e){t.failureAlert=e},expression:"failureAlert"}},[t._v("\n        Error in Creating Playlist: "+t._s(t.errors)+"\n      ")]),i("h3",{staticClass:"header",attrs:{slot:"header"},slot:"header"},[i("div",{staticStyle:{position:"absolute",top:"10px"}},[t._v("Statify")])]),i("v-flex",{staticClass:"welcome-user"},[t.userData.images[0]?i("img",{staticClass:"profile-pic",attrs:{src:t.userData.images[0].url}}):t._e(),i("h4",{staticClass:"username"},[t._v("Welcome, "+t._s(t.userData.display_name)+"\n          "),i("span",{staticClass:"separator"},[t._v(" | ")])]),i("v-btn",{staticClass:"logout-btn",attrs:{flat:""},on:{click:t.logout}},[t._v("Logout")])],1),i("v-layout",{staticClass:"toggles",attrs:{row:"",wrap:""}},[i("v-flex",{attrs:{sm6:"",xs12:""}},[i("v-subheader",[t._v("Type")]),i("v-radio-group",{attrs:{mandatory:!1},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[i("v-radio",{attrs:{label:"Tracks",value:"tracks",color:"green"}}),i("v-radio",{attrs:{label:"Artists",value:"artists",color:"green"}})],1)],1),i("v-flex",{attrs:{sm6:"",xs12:""}},[i("v-subheader",[t._v("Time")]),i("v-radio-group",{attrs:{mandatory:!1},model:{value:t.timeRange,callback:function(e){t.timeRange=e},expression:"timeRange"}},[i("v-radio",{attrs:{label:"Last Month",value:"short_term",color:"green"}}),i("v-radio",{attrs:{label:"Last 6 Months",value:"medium_term",color:"green"}}),i("v-radio",{attrs:{label:"Last Several Years",value:"long_term",color:"green"}})],1)],1),i("v-flex",{attrs:{xs12:""}},[i("v-subheader",[t._v("# of Tracks")]),i("v-flex",{attrs:{xs8:""}},[i("v-slider",{attrs:{color:"green",min:3,max:50},model:{value:t.limit,callback:function(e){t.limit=e},expression:"limit"}})],1),i("v-flex",{staticStyle:{"margin-right":"30px"},attrs:{xs1:""}},[i("v-text-field",{attrs:{type:"number"},model:{value:t.limit,callback:function(e){t.limit=e},expression:"limit"}})],1)],1),t.data.length>0?i("v-container",{attrs:{fluid:"","grid-list-md":""}},[i("v-layout",{attrs:{row:"",wrap:"","justify-space-between":""}},[t.data[0].album?i("v-flex",{attrs:{"d-flex":"",xs12:"",sm6:"",md4:"",lg3:"",xl4:""}},[i("v-btn",{on:{click:t.getData}},[t._v("Load")]),t.data[0].album?i("v-btn",{on:{click:t.createPlaylist}},[t._v("Create Playlist")]):t._e()],1):i("v-flex",{attrs:{"d-flex":"",xs1:""}},[i("v-btn",{on:{click:t.getData}},[t._v("Load")])],1),t.data[0].album?i("v-flex",{attrs:{"d-flex":"",xs12:"",sm6:"",md4:""}},[i("v-btn",{staticClass:"fr",attrs:{slot:"activator"},on:{click:function(e){e.preventDefault(),t.showMusicShare=!t.showMusicShare}},slot:"activator"},[i("span",{staticClass:"mr-auto"},[t._v("Share Your Top "+t._s(t.type))]),t.showMusicShare?i("v-icon",[t._v("keyboard_arrow_up")]):i("v-icon",[t._v("keyboard_arrow_down")])],1)],1):i("v-flex",{attrs:{"d-flex":"",xs12:"",sm6:"",md4:"",lg3:""}},[i("v-btn",{staticClass:"fr",attrs:{slot:"activator"},on:{click:function(e){e.preventDefault(),t.showMusicShare=!t.showMusicShare}},slot:"activator"},[i("span",{staticClass:"mr-auto"},[t._v("Share Your Top "+t._s(t.type))]),t.showMusicShare?i("v-icon",[t._v("keyboard_arrow_up")]):i("v-icon",[t._v("keyboard_arrow_down")])],1)],1),i("top-music-share",{directives:[{name:"show",rawName:"v-show",value:t.showMusicShare,expression:"showMusicShare"}],attrs:{type:t.type,timeRange:t.timeRange,limit:t.limit,username:t.userData.display_name,showMusicShare:t.showMusicShare},on:{close:function(e){t.showMusicShare=!1}}})],1)],1):t._e()],1)],1)],1):t._e(),t.spotifyToken?i("albums",{attrs:{data:t.data,timeRange:t.timeRange,limit:t.limit,type:t.type},on:{apiError:function(e){t.logout(t.err)}}}):i("login")],1)},T=[],k=i("795b"),M=i.n(k),S=(i("5df3"),i("ac6a"),i("cebc")),w=i("bc3a"),x=i.n(w),A=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"login"},[i("div",{staticClass:"title-wrapper"},[t._m(0),i("v-btn",{staticClass:"login-btn",attrs:{flat:""},on:{click:function(e){t.login()}}},[t._v("Login")])],1),i("AudioAnimation",{staticStyle:{"margin-bottom":"-16px"}})],1)},C=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("h2",{staticClass:"title"},[t._v("Statify "),i("span",{staticClass:"separator"},[t._v("|")])])}],L=(i("a481"),null),I=null;L="https://my-statify-backend.herokuapp.com/",I="".concat(window.location.protocol,"//").concat(window.location.hostname);var O=function(){return x.a.create({baseURL:L})},P={login:function(){return O().get("login")},getShortUrl:function(t){return O().get("short_url",{params:{url:t}})}},D=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"audio-wrapper"},[t._l(t.numOfBars,function(e){return[i("div",{key:e,staticClass:"bar",style:t.randomClass(e)})]})],2)},U=[],E="AudioAnimation",j={randomClass:function(t){var e=.02*document.body.clientWidth,i=.005*document.body.clientWidth,a=(e+i)*(t-1),s=700,n=900,o=Math.floor(Math.random()*(s-n+1)+s);return"left:"+a+"px; animation-duration:"+o+"ms;"}},$={numOfBars:function(){var t=.025*this.windowWidth+3.2,e=this.windowWidth/t;return Math.floor(e)}},q={name:E,methods:j,computed:$,data:function(){return{windowWidth:void 0}},beforeMount:function(){this.windowWidth=document.body.clientWidth},mounted:function(){var t=this;window.addEventListener("resize",function(){t.windowWidth=document.body.clientWidth})},beforeDestroy:function(){var t=this;window.removeEventListener("resize",function(){t.windowWidth=document.body.clientWidth})}},R=q,z=(i("d65c"),Object(g["a"])(R,D,U,!1,null,null,null));z.options.__file="AudioAnimation.vue";var B=z.exports,N="login",V={AudioAnimation:B},W=Object(S["a"])({},Object(s["b"])(["savetopMusicData","savetopMusicUsername","savetopMusicType","savetopMusicLimit","savetopMusicDialogState"]),{login:function(){P.login().then(function(t){window.location.replace(t.data)})},clearTopMusic:function(){this.savetopMusicData(null),this.savetopMusicUsername(null),this.savetopMusicType(null),this.savetopMusicLimit(null),this.savetopMusicDialogState(null)}}),Y={name:N,methods:W,components:V,beforeMount:function(){this.clearTopMusic(),this.$route.query.showTopMusicPreview&&(this.savetopMusicData(decodeURIComponent(this.$route.query.data)),this.savetopMusicUsername(decodeURIComponent(this.$route.query.username)),this.savetopMusicType(decodeURIComponent(this.$route.query.type)),this.savetopMusicLimit(decodeURIComponent(this.$route.query.limit).replace(/\/$/,"")),this.savetopMusicDialogState(decodeURIComponent(this.$route.query.showTopMusicPreview)),window.history.replaceState(null,null,window.location.pathname))}},G=Y,F=(i("44c0"),Object(g["a"])(G,A,C,!1,null,null,null));F.options.__file="Login.vue";var H=F.exports,J=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",[t.topMusicUsername?i("v-dialog",{attrs:{fullscreen:""},model:{value:t.showTopMusicPreview,callback:function(e){t.showTopMusicPreview=e},expression:"showTopMusicPreview"}},[i("div",{staticClass:"grey lighten-5",staticStyle:{margin:"auto"},attrs:{id:"topMusic"}},[i("v-toolbar",{attrs:{color:"white",height:"80px"}},[i("v-toolbar-title",{staticStyle:{color:"black","margin-top":"5px"}},[i("div",{staticClass:"top-music-title"},[t._v("\n            "+t._s(t.displayName)+"'s Top "+t._s(t._f("removeSlash")(t.topMusicLimit))+"\n            "+t._s(t._f("capitalize")(t.topMusicType))+" ("+t._s(t.timePeriod[t.timeRange])+")\n          ")]),i("v-btn",{staticClass:"top-music-btn",staticStyle:{color:"#1db954"},attrs:{flat:""},nativeOn:{click:function(e){return t.hideTopMusic(e)}}},[t._v("Discover Your Top Songs and Arists\n          ")])],1)],1),i("v-container",{staticStyle:{"min-height":"0"},attrs:{fluid:"","grid-list-lg":""}},[i("v-layout",{attrs:{row:"",wrap:""}},[i("v-card",[i("albums",{staticStyle:{"margin-top":"0"},attrs:{data:t.topMusic,timeRange:t.timeRange,limit:t.limit,type:t.topMusicType}})],1)],1)],1)],1)]):t._e()],1)},K=[],Q=(i("6b54"),i("c5f6"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.data.length>0?i("div",{staticClass:"albums",attrs:{loading:t.loading}},[t.loading?t._e():i("v-container",{staticClass:"grey lighten-5",attrs:{fluid:"","grid-list-md":""}},[i("v-layout",{attrs:{row:"",wrap:""}},t._l(t.data,function(e,a){return i("v-flex",{key:e.name,staticClass:"card-wrapper",attrs:{xs12:"",sm6:"",md4:"",lg3:""}},[i("v-card",{staticStyle:{width:"100%"},attrs:{hover:""}},[e.id===t.addSong?i("v-alert",{staticClass:"song-alert",attrs:{dismissible:"",color:t.alert.alertType,icon:t.alert.alertIcon},model:{value:t.alert.active,callback:function(e){t.$set(t.alert,"active",e)},expression:"alert.active"}},[t._v("\n            "+t._s(t.alert.alertMessage)+"\n          ")]):t._e(),(e.images?e.images:e.album&&e.album.images)?i("v-card-media",{style:t.getBackgroundImg(e),attrs:{height:"50vh"}},[i("div",{staticStyle:{padding:"10px 16px"},attrs:{"fill-height":"",fluid:""}},[i("v-layout",{attrs:{"fill-height":""}},[i("v-flex",{staticStyle:{"flex-direction":"column"},attrs:{xs12:"",flexbox:""}},[i("span",t._l(t.topTracks,function(a){return t.topTracks[0].artists.some(function(t){return t.id===e.id})?i("h4",{key:a.id,staticClass:"top-tracks",staticStyle:{opacity:"0.5","font-size":"20px"}},[t._v(t._s(a.name)+"\n                    ")]):t._e()}),0),e.images?i("span",{staticStyle:{"z-index":"3","margin-top":"auto"}},[i("h4",[t._v(t._s(e.name))])]):i("span",{staticStyle:{"z-index":"3","margin-top":"auto"}},[i("h5",[t._v(t._s(e.name))]),e.artists?i("h5",[t._v(t._s(e.artists[0].name))]):t._e(),i("h5",[t._v(t._s(e.album.name))])]),i("div",{staticClass:"animation-wrapper"},[t.audioPlaying&&e.id===t.song?i("AudioAnimation"):t._e()],1)])],1)],1)]):t._e(),i("v-card-actions",{staticClass:"white"},[i("div",{staticClass:"rank"},[t._v(t._s(a+1))]),i("v-spacer"),e.images?i("v-btn",{attrs:{icon:"",disabled:0===t.topTracks.length||!t.topTracks[0].artists.some(function(t){return t.id===e.id})},on:{click:function(i){t.getTopTrackIndex("prev",e.id)}}},[i("v-icon",[t._v("skip_previous")])],1):t._e(),e.album?i("v-btn",{attrs:{icon:""},on:{click:function(i){t.playPreview(e.preview_url,e.id)}}},[i("v-icon",[t._v("play_arrow")])],1):i("v-btn",{attrs:{icon:"",disabled:0===t.topTracks.length||!t.topTracks[0].artists.some(function(t){return t.id===e.id})},on:{click:function(i){t.getTopTrackIndex(null,e.id)}}},[i("v-icon",[t._v("play_arrow")])],1),e.images?i("v-btn",{attrs:{icon:"",disabled:0===t.topTracks.length||!t.topTracks[0].artists.some(function(t){return t.id===e.id})},on:{click:function(i){t.getTopTrackIndex("next",e.id)}}},[i("v-icon",[t._v("skip_next")])],1):t._e(),e.album?i("v-tooltip",{attrs:{bottom:"","open-delay":"500"}},[i("v-btn",{attrs:{slot:"activator",icon:""},on:{click:function(i){t.saveTrack(e.id)}},slot:"activator"},[i("v-icon",[t._v("add")])],1),i("span",[t._v("Add Song to Library")])],1):t._e(),e.images?i("v-tooltip",{staticClass:"GetArtistsTop",attrs:{bottom:"","open-delay":"500"}},[i("v-btn",{attrs:{slot:"activator",icon:""},on:{click:function(i){t.getArtistsTopTracks(e.id)}},slot:"activator"},[i("v-icon",[t._v("format_list_numbered")])],1),i("span",[t._v("Get Artist's Top Tracks")])],1):t._e()],1)],1)],1)}),1)],1),i("audio",{ref:"audio",on:{timeupdate:t.audioUpdate}})],1):t._e()}),X=[],Z="Albums",tt={data:{type:Array,required:!0},type:{type:String,required:!0}},et={AudioAnimation:B},it={playPreview:function(t,e){var i=document.querySelector("audio");""===i.src?(i.src=t,i.play()):t!==i.src?(i.pause(),i.currentTime=0,i.src=t,i.play()):t===i.src?(i.pause(),i.currentTime=0,i.src=""):(i.pause(),i.currentTime=0),this.song=e},audioUpdate:function(){var t=this.$refs.audio;t.currentTime>0&&!t.paused&&!t.ended?this.audioPlaying=!0:this.audioPlaying=!1},saveTrack:function(t){var e=this;this.addSong=t,x.a.get("https://api.spotify.com/v1/me/tracks/contains?ids="+t,{headers:{Authorization:"Bearer "+this.spotifyToken}}).then(function(i){if(i.data[0])e.alert.alertType="info",e.alert.alertIcon="info",e.alert.alertMessage="Song already in library",e.alert.active=!0;else{var a={ids:[t]};x.a.put("https://api.spotify.com/v1/me/tracks/?ids=",a,{headers:{Authorization:"Bearer "+e.spotifyToken}}).then(function(t){e.alert.alertType="success",e.alert.alertIcon="check_circle",e.alert.alertMessage="Song added",e.alert.active=!0}).catch(function(t){e.$emit("apiError",t)})}})},getArtistsTopTracks:function(t){var e=this;document.querySelector("audio").pause(),this.topTrackIndex=0,x.a.get("https://api.spotify.com/v1/artists/".concat(t,"/top-tracks?country=US"),{headers:{Authorization:"Bearer "+this.spotifyToken}}).then(function(t){t.data.tracks.length>=5?e.topTracks=t.data.tracks.slice(0,5):e.topTracks=t.data.tracks.slice(0,t.data.tracks.length-1)}).catch(function(t){e.$emit("apiError",t)})},getTopTrackIndex:function(t,e){"next"===t&&(this.topTrackIndex<this.topTracks.length-1?this.topTrackIndex=this.topTrackIndex+1:this.topTrackIndex=0),"prev"===t&&(this.topTrackIndex>0?this.topTrackIndex=this.topTrackIndex-1:this.topTrackIndex=4),this.updateCurrentTrackStyle(),this.playPreview(this.topTracks[this.topTrackIndex].preview_url,e)},updateCurrentTrackStyle:function(){document.querySelectorAll(".top-tracks").forEach(function(t){return t.style.opacity=.5}),document.querySelectorAll(".top-tracks")[this.topTrackIndex].style.opacity=1},getBackgroundImg:function(t){return!t.images||0!==this.topTracks.length&&this.topTracks[0].artists.some(function(e){return e.id===t.id})?t.images&&this.topTracks[0].artists.some(function(e){return e.id===t.id})?"background: linear-gradient(rgba(0,0,0,.7),rgba(0,0,0,.2)), url('".concat(t.images[0].url,"') center center / cover no-repeat;"):"background: linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.7)), url('".concat(t.album.images[0].url,"') center center / cover no-repeat;"):"background: linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.7)), url('".concat(t.images[0].url,"') center center / cover no-repeat;")}},at=Object(S["a"])({},Object(s["c"])(["spotifyToken","tipsSetting"])),st={name:Z,props:tt,components:et,methods:it,computed:at,data:function(){return{song:null,addSong:null,audioPlaying:!1,loading:!1,alert:{active:!1,alertType:null,alertIcon:null,alertMessage:null},topTracks:[],topTrackIndex:0}}},nt=st,ot=(i("c0c1"),Object(g["a"])(nt,Q,X,!1,null,null,null));ot.options.__file="Albums.vue";var rt=ot.exports,ct="TopMusicButton",lt={username:{type:String,required:!0},type:{type:String,required:!0},timeRange:{type:String,required:!0},limit:{type:Number,required:!0}},ut={Albums:rt},pt=Object(S["a"])({},Object(s["b"])(["savetopMusicData","savetopMusicUsername","savetopMusicType","savetopMusicLimit","savetopMusicDialogState","saveSpotifyToken"]),{getTopMusicData:function(){var t=this,e=null;e=this.topMusicType?this.topMusicType:this.type,x.a.get("https://api.spotify.com/v1/".concat(e,"/?ids=")+this.topMusicIds,{headers:{Authorization:"Bearer "+this.spotifyToken}}).then(function(i){t.topMusic=i.data[e],t.getShareLink()}).catch(function(e){console.log(e),t.saveSpotifyToken(null),t.$forceUpdate()})},clearTopMusic:function(){this.savetopMusicData(null),this.savetopMusicUsername(null),this.savetopMusicType(null),this.savetopMusicLimit(null),this.savetopMusicDialogState(null),this.topMusicIds=[]},hideTopMusic:function(){this.showTopMusicPreview=!1,this.clearTopMusic()},getShareLink:function(){var t=this,e="data="+this.topMusicIds,i="username="+this.username,a="type="+this.type,s="limit="+this.limit,n="showTopMusicPreview=true",o=I+"?"+n+"&"+e+"&"+i+"&"+a+"&"+s;P.getShortUrl(o).then(function(e){0===e.data.data.length?(t.shareLink=o,t.warningAlert=!0,t.statusTxt=e.data.status_txt):t.shareLink=e.data.data.url}).catch(function(e){t.warningAlert=!0,t.statusTxt=e})}}),dt=Object(S["a"])({},Object(s["c"])(["topMusicData","topMusicUsername","topMusicType","topMusicLimit","topMusicDialogState","spotifyToken"])),ht={capitalize:function(t){return t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""},removeSlash:function(t){return"/"===t.slice(-1)?t.slice(0,-1):t}},vt={name:ct,props:lt,components:ut,methods:pt,computed:dt,filters:ht,data:function(){return{showTopMusicPreview:!1,topMusicIds:[],topMusic:[],timePeriod:{short_term:"Last Month",medium_term:"Last 6 Months",long_term:"Last Several Years"}}},beforeMount:function(){this.displayName=this.topMusicUsername||this.username,"true"===this.topMusicDialogState?(this.showTopMusicPreview=!0,this.topMusicIds=this.topMusicData,this.getTopMusicData()):this.showTopMusicPreview=!1},watch:{showTopMusicPreview:function(){!1===this.showTopMusicPreview?(this.shareLink=null,document.body.style.overflow="auto"):document.body.style.overflow="hidden"}}},ft=vt,mt=(i("e9fe"),Object(g["a"])(ft,J,K,!1,null,null,null));mt.options.__file="FriendsTopMusic.vue";var gt=mt.exports,yt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-flex",{staticClass:"justify-center",attrs:{xs12:""}},[i("v-card",[i("v-alert",{attrs:{dismissible:"",color:"success",icon:"check_circle"},model:{value:t.successAlert,callback:function(e){t.successAlert=e},expression:"successAlert"}},[t._v("\n      Link Copied to Clipboard\n    ")]),i("v-alert",{attrs:{color:"info",icon:"warning",dismissible:""},model:{value:t.warningAlert,callback:function(e){t.warningAlert=e},expression:"warningAlert"}},[t._v("\n      "+t._s(this.statusTxt)+": Could Not Generate A Shortened Url, Please Use the Long Url\n    ")]),i("v-flex",{attrs:{xs12:""}},[i("v-flex",{attrs:{xs8:""}},[i("v-text-field",{staticStyle:{margin:"10px 15px 0 15px"},attrs:{id:"share-link",name:"share-link",color:"green",label:"Generating Link",loading:t.loading,readonly:""},model:{value:t.shareLink,callback:function(e){t.shareLink=e},expression:"shareLink"}})],1),i("v-flex",{staticClass:"justify-center",attrs:{xs2:""}},[i("v-btn",{staticStyle:{color:"#1db954","margin-top":"20px"},attrs:{slot:"activator",flat:"",icon:"",disabled:!t.shareLink},on:{click:t.copyLink},slot:"activator"},[i("v-icon",[t._v("content_copy")])],1)],1),i("v-flex",{staticClass:"justify-center",attrs:{xs2:""}},[i("v-btn",{staticStyle:{color:"#1db954","margin-top":"20px"},attrs:{slot:"activator",flat:"",icon:"",disabled:!!t.shareLink},on:{click:t.getTopMusicIds},slot:"activator"},[i("v-icon",[t._v("cached")])],1)],1)],1),i("v-flex",{attrs:{xs12:""}},[t.shareLink?i("p",{staticStyle:{"text-align":"center",margin:"0 10px 10px 10px"}},[t._v("\n        Copy this link to share your top "+t._s(t.limit)+" "+t._s(t.type)+" of the\n        "+t._s(t.timePeriod[t.timeRange])+" with your friends\n      ")]):i("p",{staticStyle:{"text-align":"center",margin:"0 10px 10px 10px"}},[t._v("\n        Click the green refresh button to generate a new link\n      ")])])],1)],1)},_t=[],bt="TopMusicShare",Tt={username:{type:String,required:!0},type:{type:String,required:!0},timeRange:{type:String,required:!0},limit:{type:Number,required:!0},showMusicShare:{type:Boolean,required:!1}},kt=Object(S["a"])({},Object(s["c"])(["spotifyToken"])),Mt=Object(S["a"])({},Object(s["b"])(["saveSpotifyToken"]),{getTopMusicIds:function(){var t=this;this.loading=!0,this.shareLink=null;var e="?time_range="+this.timeRange+"&limit="+this.limit;x.a.get("https://api.spotify.com/v1/me/top/"+this.type+e,{headers:{Authorization:"Bearer "+this.spotifyToken}}).then(function(e){var i=[];e.data.items.forEach(function(t){i.push(t.id)}),t.topMusicIds=i.toString(),t.getTopMusicData()}).catch(function(e){console.log(e),t.saveSpotifyToken(null),t.$forceUpdate()})},getTopMusicData:function(){var t=this,e=null;e=this.topMusicType?this.topMusicType:this.type,x.a.get("https://api.spotify.com/v1/".concat(e,"/?ids=")+this.topMusicIds,{headers:{Authorization:"Bearer "+this.spotifyToken}}).then(function(i){t.topMusic=i.data[e],t.getShareLink()}).catch(function(e){console.log(e),t.saveSpotifyToken(null),t.$forceUpdate()})},getShareLink:function(){var t=this,e="data="+this.topMusicIds,i="username="+this.username,a="type="+this.type,s="limit="+this.limit,n="showTopMusicPreview=true",o=I+"?"+n+"&"+e+"&"+i+"&"+a+"&"+s;P.getShortUrl(o).then(function(e){0===e.data.data.length?(t.shareLink=o,t.loading=!1,t.warningAlert=!0,t.statusTxt=e.data.status_txt):t.shareLink=e.data.data.url}).catch(function(e){t.loading=!1,t.warningAlert=!0,t.statusTxt=e})},copyLink:function(){var t=this;this.$copyText(this.shareLink).then(function(e){t.successAlert=!0,t.$emit("close",!1)})}}),St={name:bt,props:Tt,computed:kt,methods:Mt,data:function(){return{loading:!1,shareLink:null,successAlert:!1,warningAlert:!1,statusTxt:null,timePeriod:{short_term:"Last Month",medium_term:"Last 6 Months",long_term:"Last Several Years"}}},watch:{showMusicShare:function(){!1===this.showMusicShare?(this.successAlert=!1,this.warningAlert=!1):this.getTopMusicIds()}}},wt=St,xt=Object(g["a"])(wt,yt,_t,!1,null,null,null);xt.options.__file="TopMusicShare.vue";var At=xt.exports,Ct="home",Lt={login:H,FriendsTopMusic:gt,TopMusicShare:At,Albums:rt},It=Object(S["a"])({},Object(s["b"])(["savetopMusicData","savetopMusicUsername","savetopMusicType","savetopMusicLimit","savetopMusicDialogState","saveSpotifyToken"]),{logout:function(t){console.log(t),this.saveSpotifyToken(null),this.tokenAlert=!0,this.$forceUpdate()},getData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.songs=[];var i="?time_range="+this.timeRange+"&limit="+this.limit;x.a.get("https://api.spotify.com/v1/me/top/"+this.type+i,{headers:{Authorization:"Bearer "+this.spotifyToken}}).then(function(i){t.data=i.data.items,i.data.items.forEach(function(e){t.songs.push(e.uri)}),t.toolbar=!0===e}).catch(function(e){t.logout()})},createPlaylist:function(){var t=this,e=this.userData.id,i=this.songs,a={name:"Your Top "+this.limit+" "+this.type.charAt(0).toUpperCase()+this.type.slice(1)+" ("+this.timePeriod[this.timeRange]+")",public:!0},s={headers:{Authorization:"Bearer "+this.spotifyToken}};x.a.post("https://api.spotify.com/v1/users/"+e+"/playlists",a,s).then(function(a){var n=a.data.id;x.a.post("https://api.spotify.com/v1/users/"+e+"/playlists/"+n+"/tracks",{uris:i},s).then(function(e){t.successAlert=!0}).catch(function(e){t.failureAlert=!0,t.errors=e})})}}),Ot=Object(S["a"])({},Object(s["c"])(["spotifyToken"])),Pt={name:Ct,components:Lt,methods:It,computed:Ot,data:function(){return{toolbar:!0,topArtists:[],type:"tracks",timeRange:"short_term",timePeriod:{short_term:"Last Month",medium_term:"Last 6 Months",long_term:"Last Several Years"},limit:20,data:[],songs:[],userData:void 0,errors:"",successAlert:!1,failureAlert:!1,tokenAlert:!1,showMusicShare:!1}},beforeMount:function(){var t=this;if(this.$route.query.access_token&&this.saveSpotifyToken(this.$route.query.access_token).then(function(){window.history.replaceState(null,null,window.location.pathname)}),this.$route.query.showTopMusicPreview&&(this.savetopMusicData(this.$route.query.data),this.savetopMusicUsername(this.$route.query.username),this.savetopMusicType(this.$route.query.type),this.savetopMusicLimit(this.$route.query.limit),this.savetopMusicDialogState(this.$route.query.showTopMusicPreview),window.history.replaceState(null,null,window.location.pathname)),this.spotifyToken){var e=x.a.get("https://api.spotify.com/v1/me",{headers:{Authorization:"Bearer "+this.spotifyToken}}).then(function(e){t.userData=e.data}).catch(function(e){t.logout(),t.tokenAlert=!0}),i=this.getData(!0);M.a.all([e,i])}}},Dt=Pt,Ut=(i("9c8c"),Object(g["a"])(Dt,b,T,!1,null,null,null));Ut.options.__file="Home.vue";var Et=Ut.exports,jt={"v-container":_,Home:Et},$t={components:jt},qt=$t,Rt=(i("034f"),Object(g["a"])(qt,l,u,!1,null,null,null));Rt.options.__file="App.vue";var zt=Rt.exports,Bt=i("75fc"),Nt=i("8c4f"),Vt=[{path:"/",component:Et}],Wt=Vt;a["default"].use(Nt["a"]);var Yt=new Nt["a"]({mode:"history",routes:Object(Bt["a"])(Wt)}),Gt=i("0e44"),Ft=i("2a74");a["default"].use(s["a"]);var Ht=new s["a"].Store({modules:Ft["default"],strict:!1,plugins:[Object(Gt["a"])()]});a["default"].use(s["a"]),a["default"].use(o.a),a["default"].use(c.a),new a["default"]({el:"#app",render:function(t){return t(zt)},router:Yt,store:Ht})},"5b00":function(t,e,i){"use strict";i.r(e);var a={spotifyToken:null},s={SAVE_SPOTIFY_TOKEN:function(t,e){t.spotifyToken=e}},n={saveSpotifyToken:function(t,e){var i=t.commit;i("SAVE_SPOTIFY_TOKEN",e)}},o={spotifyToken:function(t){return t.spotifyToken}};e["default"]={state:a,mutations:s,actions:n,getters:o}},"64a9":function(t,e,i){},9021:function(t,e,i){},"9c8c":function(t,e,i){"use strict";var a=i("2c1f"),s=i.n(a);s.a},ae75:function(t,e,i){"use strict";i.r(e);var a={topMusicData:null,topMusicUsername:null,topMusicType:null,topMusicLimit:null,topMusicDialogState:null},s={SAVE_TOP_MUSIC_DATA:function(t,e){t.topMusicData=e},SAVE_TOP_MUSIC_USERNAME:function(t,e){t.topMusicUsername=e},SAVE_TOP_MUSIC_TYPE:function(t,e){t.topMusicType=e},SAVE_TOP_MUSIC_LIMIT:function(t,e){t.topMusicLimit=e},SAVE_TOP_MUSIC_DIALOG_STATE:function(t,e){t.topMusicDialogState=e}},n={savetopMusicData:function(t,e){var i=t.commit;i("SAVE_TOP_MUSIC_DATA",e)},savetopMusicUsername:function(t,e){var i=t.commit;i("SAVE_TOP_MUSIC_USERNAME",e)},savetopMusicType:function(t,e){var i=t.commit;i("SAVE_TOP_MUSIC_TYPE",e)},savetopMusicLimit:function(t,e){var i=t.commit;i("SAVE_TOP_MUSIC_LIMIT",e)},savetopMusicDialogState:function(t,e){var i=t.commit;i("SAVE_TOP_MUSIC_DIALOG_STATE",e)}},o={topMusicData:function(t){return t.topMusicData},topMusicUsername:function(t){return t.topMusicUsername},topMusicType:function(t){return t.topMusicType},topMusicLimit:function(t){return t.topMusicLimit},topMusicDialogState:function(t){return t.topMusicDialogState}};e["default"]={state:a,mutations:s,actions:n,getters:o}},b866:function(t,e,i){},c0c1:function(t,e,i){"use strict";var a=i("9021"),s=i.n(a);s.a},c44b:function(t,e,i){"use strict";i.r(e);var a={tipsSetting:!0},s={SAVE_TIPS_SETTING:function(t,e){t.tipsSetting=e}},n={saveTipsSetting:function(t,e){var i=t.commit;i("SAVE_TIPS_SETTING",e)}},o={tipsSetting:function(t){return t.tipsSetting}};e["default"]={state:a,mutations:s,actions:n,getters:o}},d307:function(t,e,i){var a={"./index.js":"2a74","./spotify.js":"5b00","./top20.js":"ae75","./ux.js":"c44b"};function s(t){var e=n(t);return i(e)}function n(t){var e=a[t];if(!(e+1)){var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}return e}s.keys=function(){return Object.keys(a)},s.resolve=n,t.exports=s,s.id="d307"},d65c:function(t,e,i){"use strict";var a=i("b866"),s=i.n(a);s.a},e9fe:function(t,e,i){"use strict";var a=i("1c5f"),s=i.n(a);s.a}});
//# sourceMappingURL=app.72a2159d.js.map